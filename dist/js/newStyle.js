require.config({paths:{jquery:"../libs/jquery",head:"head"}}),require(["jquery","head"],function(t,e){t(function(){e.head(),t(function(){t("#pagination1").pagination({currentPage:1,totalPage:12,callback:function(e){t("#current1").text(e)}}),t("#pagination2").pagination({currentPage:3,totalPage:12,isShow:!0,count:7,prevPageText:"< 上一页",nextPageText:"下一页 >",callback:function(e){t("#current2").text(e)}}),t("#pagination3").pagination({currentPage:4,totalPage:16,isShow:!0,count:7,homePageText:"首页",endPageText:"尾页",prevPageText:"上一页",nextPageText:"下一页",callback:function(e){t("#current3").text(e)}}),t("#getPage").on("click",function(){t("#pagination3").pagination("getPage")}),t("#setPage").on("click",function(){t("#pagination3").pagination("setPage",1,16)})}),function(t,e,a,i){var n=function(e,a){this.ele=e,this.defaults={currentPage:1,totalPage:10,isShow:!0,count:5,homePageText:"首页",endPageText:"尾页",prevPageText:"上一页",nextPageText:"下一页",callback:function(){}},this.opts=t.extend({},this.defaults,a),this.current=this.opts.currentPage,this.total=this.opts.totalPage,this.init()};n.prototype={init:function(){this.render(),this.eventBind()},render:function(){var t=this.opts,e=this.current,a=this.total,i=this.getPagesTpl(),n=this.ele.empty();this.isRender=!0,this.homePage='<a href="javascript:void(0);" class="ui-pagination-page-item" data-current="1">'+t.homePageText+"</a>",this.prevPage='<a href="javascript:void(0);" class="ui-pagination-page-item" data-current="'+(e-1)+'">'+t.prevPageText+"</a>",this.nextPage='<a href="javascript:void(0);" class="ui-pagination-page-item" data-current="'+(e+1)+'">'+t.nextPageText+"</a>",this.endPage='<a href="javascript:void(0);" class="ui-pagination-page-item" data-current="'+a+'">'+t.endPageText+"</a>",this.checkPage(),this.isRender&&n.html("<div class='ui-pagination-container'>"+this.homePage+this.prevPage+i+this.nextPage+this.endPage+"</div>")},checkPage:function(){var t=this.opts,e=this.total,a=this.current;t.isShow||(this.homePage=this.endPage=""),1===a&&(this.homePage=this.prevPage=""),a===e&&(this.endPage=this.nextPage=""),1===e&&(this.homePage=this.prevPage=this.endPage=this.nextPage=""),e<=1&&(this.isRender=!1)},getPagesTpl:function(){var t=this.opts,e=this.total,a=this.current,i="",n=t.count;if(e<=n)for(h=1;h<=e;h++)i+=h===a?'<a href="javascript:void(0);" class="ui-pagination-page-item active" data-current="'+h+'">'+h+"</a>":'<a href="javascript:void(0);" class="ui-pagination-page-item" data-current="'+h+'">'+h+"</a>";else{var r=n/2;if(a<=r)for(h=1;h<=n;h++)i+=h===a?'<a href="javascript:void(0);" class="ui-pagination-page-item active" data-current="'+h+'">'+h+"</a>":'<a href="javascript:void(0);" class="ui-pagination-page-item" data-current="'+h+'">'+h+"</a>";else{var s=Math.floor(r),o=a+s,c=a-s,g=n%2==0;o>e&&(g?(c-=o-e-1,o=e+1):(c-=o-e,o=e)),g||o++;for(var h=c;h<o;h++)i+=h===a?'<a href="javascript:void(0);" class="ui-pagination-page-item active" data-current="'+h+'">'+h+"</a>":'<a href="javascript:void(0);" class="ui-pagination-page-item" data-current="'+h+'">'+h+"</a>"}}return i},setPage:function(t,e){return t===this.current&&e===this.total?this.ele:(this.current=t,this.total=e,this.render(),this.ele)},getPage:function(){return{current:this.current,total:this.total}},eventBind:function(){var e=this,a=this.opts.callback;this.ele.off("click").on("click",".ui-pagination-page-item",function(){var i=t(this).data("current");e.current!=i&&(e.current=i,e.render(),a&&"function"==typeof a&&a(i))})}},t.fn.pagination=function(t,e,a){if("object"==typeof t){var i=new n(this,t);this.data("pagination",i)}return"string"==typeof t?this.data("pagination")[t](e,a):this}}(jQuery,window,document)})});